apiVersion: v1
kind: ConfigMap
metadata:
  name: mezo-node-config
  namespace: default
data:
  # All files below were generated using the `scripts/public-testnet.sh` script
  # and cleaned up from comments and blank lines to reduce size.
  app.toml: |
    minimum-gas-prices = "10000000000abtc"
    query-gas-limit = "0"
    pruning = "nothing"
    pruning-keep-recent = "0"
    pruning-interval = "0"
    halt-height = 0
    halt-time = 0
    min-retain-blocks = 0
    inter-block-cache = true
    index-events = []
    iavl-cache-size = 781250
    iavl-disable-fastnode = false
    app-db-backend = ""
    [telemetry]    
      service-name = ""
      enabled = true
      enable-hostname = false
      enable-hostname-label = false
      enable-service-label = false
      prometheus-retention-time = 0
      global-labels = []
      metrics-sink = ""
      statsd-addr = ""
      datadog-hostname = ""
    [api]
      enable = false
      swagger = false
      address = "tcp://0.0.0.0:1317"
      max-open-connections = 1000
      rpc-read-timeout = 10
      rpc-write-timeout = 0
      rpc-max-body-bytes = 1000000
      enabled-unsafe-cors = false  
    [grpc]
      enable = true
      address = "0.0.0.0:9090"
      max-recv-msg-size = "10485760"
      max-send-msg-size = "2147483647"
    [grpc-web]
      enable = true
    [state-sync]
      snapshot-interval = 5000
      snapshot-keep-recent = 2
    [streaming]
    [streaming.abci]
      keys = []
      plugin = ""
      stop-node-on-err = true
    [mempool]
      max-txs = -1  
    [evm]
      tracer = ""
      max-tx-gas-wanted = 0
    [json-rpc]
      enable = true
      address = "0.0.0.0:8545"
      ws-address = "0.0.0.0:8546"
      api = "eth,net,web3,debug,miner,txpool,personal"
      gas-cap = 25000000
      evm-timeout = "5s"
      txfee-cap = 1
      filter-cap = 200
      feehistory-cap = 100
      logs-cap = 10000
      block-range-cap = 10000
      http-timeout = "30s"
      http-idle-timeout = "2m0s"
      allow-unprotected-txs = false
      max-open-connections = 0
      enable-indexer = false
      metrics-address = "0.0.0.0:6065"
      fix-revert-gas-refund-height = 0
    [tls]
      certificate-path = ""
      key-path = ""
    [ethereum-sidecar.client]
      server-address = "ethereum-sidecar.default.svc.cluster.local:7500"
      request-timeout = "1s"  

  client.toml: |
    chain-id = "mezo_31611-1"
    keyring-backend = "file"
    output = "text"
    node = "tcp://0.0.0.0:26657"
    broadcast-mode = "sync"

  config.toml: |
    version = "0.38.9"
    proxy_app = "tcp://0.0.0.0:26658"
    moniker = ""
    db_backend = "goleveldb"
    db_dir = "data"
    log_level = "info"
    log_format = "json"
    genesis_file = "config/genesis.json"
    priv_validator_key_file = "config/priv_validator_key.json"
    priv_validator_state_file = "data/priv_validator_state.json"
    priv_validator_laddr = ""
    node_key_file = "config/node_key.json"
    abci = "socket"
    filter_peers = false
    [rpc]
      laddr = "tcp://0.0.0.0:26657"
      cors_allowed_origins = []
      cors_allowed_methods = ["HEAD", "GET", "POST", ]
      cors_allowed_headers = ["Origin", "Accept", "Content-Type", "X-Requested-With", "X-Server-Time", ]
      grpc_laddr = ""
      grpc_max_open_connections = 900
      unsafe = false
      max_open_connections = 900
      max_subscription_clients = 100
      max_subscriptions_per_client = 5
      experimental_subscription_buffer_size = 200
      experimental_websocket_write_buffer_size = 200
      experimental_close_on_slow_client = false
      timeout_broadcast_tx_commit = "10s"
      max_request_batch_size = 10
      max_body_bytes = 1000000
      max_header_bytes = 1048576
      tls_cert_file = ""
      tls_key_file = ""
      pprof_laddr = "0.0.0.0:6060"
    [p2p]
      laddr = "tcp://0.0.0.0:26656"
      external_address = ""
      seeds = ""
      persistent_peers = "2d4e0216da0d1ec18655d9588df21319025efab0@mezo-node-0.test.mezo.org:26656,eedead51f768b908e6ae068e5a8cda6236774010@mezo-node-1.test.mezo.org:26656,84805b6cb9c86673c1f1685f08f0276ea02ce814@mezo-node-2.test.mezo.org:26656,deb793b789da8ff3e995f77fa47a7a50e0b2ea97@mezo-node-3.test.mezo.org:26656,8b041c159d6b981db56ffb9a3c1fda468f51407b@mezo-node-4.test.mezo.org:26656"    
      addr_book_file = "config/addrbook.json"
      addr_book_strict = true
      max_num_inbound_peers = 240
      max_num_outbound_peers = 30
      unconditional_peer_ids = ""
      persistent_peers_max_dial_period = "0s"
      flush_throttle_timeout = "100ms"
      max_packet_msg_payload_size = 1024
      send_rate = 5120000
      recv_rate = 5120000
      pex = true
      seed_mode = false
      private_peer_ids = ""
      allow_duplicate_ip = false
      handshake_timeout = "20s"
      dial_timeout = "3s"
    [mempool]
      type = "flood"
      recheck = true
      recheck_timeout = "1s"
      broadcast = true
      wal_dir = ""
      size = 10000
      max_txs_bytes = 1073741824
      cache_size = 10000
      keep-invalid-txs-in-cache = false
      max_tx_bytes = 1048576
      max_batch_bytes = 0
      experimental_max_gossip_connections_to_persistent_peers = 0
      experimental_max_gossip_connections_to_non_persistent_peers = 0
    [statesync]
      enable = false
      rpc_servers = ""
      trust_height = 0
      trust_hash = ""
      trust_period = "112h0m0s"
      discovery_time = "15s"
      temp_dir = ""
      chunk_request_timeout = "10s"
      chunk_fetchers = "4"
    [blocksync]
      version = "v0"
    [consensus]
      wal_file = "data/cs.wal/wal"
      timeout_propose = "3s"
      timeout_propose_delta = "500ms"
      timeout_prevote = "1s"
      timeout_prevote_delta = "500ms"
      timeout_precommit = "1s"
      timeout_precommit_delta = "500ms"
      timeout_commit = "3s"
      double_sign_check_height = 0
      skip_timeout_commit = false
      create_empty_blocks = true
      create_empty_blocks_interval = "0s"
      peer_gossip_sleep_duration = "100ms"
      peer_query_maj23_sleep_duration = "2s"
    [storage]
      discard_abci_responses = false
    [tx_index]
      indexer = "kv"
      psql-conn = ""
    [instrumentation]
      prometheus = true
      prometheus_listen_addr = ":26660"
      max_open_connections = 3
      namespace = "cometbft"
      
